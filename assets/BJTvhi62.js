import{_ as w}from"./Ct-CEEEz.js";import{e as x,r as _,i as k,j as v,u as E,c,a as s,t as u,h as o,l as S,m as L,v as C,n as N,F as b,g as j,b as D,w as V,o as l,d as B,_ as I}from"#entry";import{g as M}from"./BivMSyuE.js";const R={class:"search-page"},T={class:"hero-section"},F={class:"site-tagline"},$={class:"search-section"},P={class:"search-box"},U={key:0,class:"results-section"},q={class:"results-title"},H={class:"posts-list"},Q={class:"post-date"},z={key:1,class:"no-results"},A={key:2,class:"empty-state"},G=x({__name:"search",setup(J){const f=_([]);async function g(){try{const n=await fetch("/content/index.json");if(!n.ok){console.error("Failed to load content index");return}const e=await n.json(),p=[];for(const t of e.posts)try{const i=await fetch(`/content/${t.path}/index.json`);if(i.ok){const d=await i.json();p.push({id:d.id,title:d.title,slug:d.slug,date:d.date,isEncrypted:d.isEncrypted})}}catch(i){console.error(`Error loading post ${t.slug}:`,i)}f.value=p.sort((t,i)=>new Date(i.date).getTime()-new Date(t.date).getTime())}catch(n){console.error("Error loading posts:",n)}}async function h(){await g()}k(()=>{g(),document.addEventListener("visibilitychange",()=>{document.hidden||h()}),window.addEventListener("focus",h),v(()=>{clearInterval(refreshInterval)})}),v(()=>{document.removeEventListener("visibilitychange",h),window.removeEventListener("focus",h)});const a=_(""),r=_([]),m=_(!1);function y(){if(!a.value.trim()){r.value=[];return}m.value=!0;const n=a.value.toLowerCase();r.value=f.value.filter(e=>e.title.toLowerCase().includes(n)||e.date.includes(n)),m.value=!1}return E(M("Search","Search through Chili's blog strange idea.")),(n,e)=>{const p=w;return l(),c("div",R,[s("div",T,[e[1]||(e[1]=s("h1",{class:"site-title"},"Search",-1)),s("p",F,"Search through "+u(o(f).length)+" strange ideas",1)]),s("section",$,[s("div",P,[L(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>N(a)?a.value=t:null),type:"text",placeholder:"Search strange idea...",class:"search-input",onInput:y},null,544),[[C,o(a)]])]),o(a)&&o(r).length>0?(l(),c("div",U,[s("h2",q,"Search Results ("+u(o(r).length)+")",1),s("ul",H,[(l(!0),c(b,null,j(o(r),t=>(l(),c("li",{key:t.id,class:"post-item"},[s("span",Q,u(t.date),1),D(p,{class:"post-link",to:`/post/${t.slug}`},{default:V(()=>[B(u(t.title),1)]),_:2},1032,["to"])]))),128))])])):o(a)&&o(r).length===0&&!o(m)?(l(),c("div",z,[s("p",null,'No strange idea found for "'+u(o(a))+'"',1)])):o(a)?S("",!0):(l(),c("div",A,[...e[2]||(e[2]=[s("p",{class:"empty-text"},"Enter a search term to find strange ideas",-1)])]))])])}}}),X=I(G,[["__scopeId","data-v-27ae5953"]]);export{X as default};
